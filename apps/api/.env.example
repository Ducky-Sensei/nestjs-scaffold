# Database Configuration
# For local development: Use these default values with the local dev container
# For production: Set these to your actual database credentials

DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=test
DATABASE_PASSWORD=test
DATABASE_NAME=test
DATABASE_URL=postgres://test:test@localhost:5432/test

# Database Connection Pool Configuration
# Controls how many concurrent database connections are maintained
DATABASE_POOL_MAX=20                      # Maximum pool size
DATABASE_POOL_MIN=5                       # Minimum pool size
DATABASE_POOL_IDLE_TIMEOUT=30000          # Close idle connections after 30s (milliseconds)
DATABASE_POOL_CONNECTION_TIMEOUT=2000     # Connection timeout 2s (milliseconds)

# Application Configuration
NODE_ENV=development
PORT=3000

# Logging Configuration
# Log levels: fatal, error, warn, info, debug, trace
# Development: debug or info
# Production: warn or error
LOG_LEVEL=info

# Auto-Migration Configuration
# Set to 'false' to disable automatic migration generation/running on startup
# Only works in development mode (production always has this disabled)
AUTO_MIGRATE=true

# Seed Database on Startup
# Set to 'true' to seed the database when the server starts
SEED_DATABASE=true

# Security Configuration
# CORS allowed origins (comma-separated list, or '*' for all origins)
# Example: https://example.com,https://app.example.com
CORS_ORIGIN=*

# Request body size limit
# Protects against DOS attacks via large payloads
# Format: number + unit (b, kb, mb, gb)
# Default: 1mb (suitable for most JSON APIs)
BODY_SIZE_LIMIT=1mb

# Rate limiting configuration
# TTL: Time window in milliseconds
THROTTLE_TTL=60000
# LIMIT: Maximum number of requests per TTL window
THROTTLE_LIMIT=100

# OpenTelemetry Configuration
# Service name for identifying traces
OTEL_SERVICE_NAME=scaffold-service

# Exporter type: 'console' for development debugging, 'otlp' for production
OTEL_EXPORTER_TYPE=console

# OTLP endpoint (used when OTEL_EXPORTER_TYPE is not 'console')
# Default is for local Jaeger: http://localhost:4318/v1/traces
# For Honeycomb: https://api.honeycomb.io/v1/traces
# For other backends, consult their documentation
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# Sentry Configuration
# Enable/disable Sentry error tracking
SENTRY_ENABLED=false

# Sentry Data Source Name (DSN) - get this from your Sentry project settings
# Example: https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_DSN=

# Sentry environment name (e.g., production, staging, development)
SENTRY_ENVIRONMENT=development

# Sentry traces sample rate (0.0 to 1.0)
# 1.0 = 100% of transactions, 0.1 = 10% of transactions
# Use lower values in high-traffic production environments
SENTRY_TRACES_SAMPLE_RATE=1.0

# Sentry profiles sample rate (0.0 to 1.0)
# Only applicable if profiling is enabled
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Datadog Configuration
# Enable/disable Datadog APM and tracing
DATADOG_ENABLED=false

# Datadog APM service name
DATADOG_SERVICE_NAME=scaffold-service

# Datadog environment (e.g., production, staging, development)
DATADOG_ENV=development

# Datadog version/release tag
DATADOG_VERSION=1.0.0

# Datadog Agent hostname (where the Datadog Agent is running)
DATADOG_AGENT_HOST=localhost

# Datadog Agent APM port
DATADOG_AGENT_PORT=8126

# Enable Datadog runtime metrics
DATADOG_RUNTIME_METRICS_ENABLED=true

# Enable Datadog profiling
DATADOG_PROFILING_ENABLED=false

# Prometheus Configuration
# Free, self-hosted metrics for performance monitoring
# Works alongside Datadog (they complement each other)
PROMETHEUS_ENABLED=false
# Endpoint path for metrics scraping
PROMETHEUS_PATH=/metrics
# Enable default Node.js metrics (CPU, memory, event loop, etc.)
PROMETHEUS_DEFAULT_METRICS=true

# Cache Configuration
# Enable/disable caching layer
# In development, caching is optional (defaults to disabled)
# In production, Redis caching is recommended for multi-instance deployments
CACHE_ENABLED=false
# Cache type: 'memory' for in-memory cache, 'redis' for Redis cache
# 'memory' is suitable for single-instance deployments or development
# 'redis' is recommended for production multi-instance deployments
CACHE_TYPE=memory
# Redis connection settings (only used when CACHE_TYPE=redis)
REDIS_HOST=localhost
REDIS_PORT=6379
# Redis password (optional, leave empty for no auth in development)
REDIS_PASSWORD=
# Redis database number (0-15)
REDIS_DB=0
# Cache TTL (Time To Live) in seconds
# Default: 300 seconds (5 minutes)
CACHE_TTL=300

# Authentication Configuration
# JWT secret for signing tokens (use a strong random string in production)
JWT_SECRET=your-secret-key-change-in-production
# JWT access token expiration (e.g., '15m', '1h', '7d')
JWT_EXPIRES_IN=15m
# JWT refresh token expiration (e.g., '7d', '30d', '90d')
JWT_REFRESH_EXPIRES_IN=30d

# OAuth - Google Configuration
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID
# 2. Add authorized redirect URI: http://localhost:8000/auth/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:8000/auth/google/callback

# OAuth - GitHub Configuration
# Get these from: https://github.com/settings/developers
# 1. Create New OAuth App
# 2. Set authorization callback URL: http://localhost:8000/auth/github/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:8000/auth/github/callback
